import React, { useRef, useEffect } from "react";
import { TweenMax, Power1 } from 'gsap/TweenMax'
import { withTheme } from 'emotion-theming'
import styled from "@emotion/styled";

const CapitolAnimation = ({theme: {primary: {color}, rules: {color: rulesColor}}}) => {
  const capitolRef = useRef();
  const square1 = useRef();
  const square2 = useRef();
  const square3 = useRef();
  const square4 = useRef();
  const square5 = useRef();
  const square6 = useRef();

  const animate = () => {
    TweenMax.to(capitolRef.current, 3, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square1.current, 3.7, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square2.current, 2, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square3.current, 4, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square4.current, 1.5, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square5.current, 3.5, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
    TweenMax.to(square6.current, 2.1, {y: 15, ease: Power1.easeInOut}).yoyo(true).repeat(-1)
  }

  useEffect(() => {
    animate()
  }, [])

  return (
    <SVGWrapper viewBox="0 0 454.62 370.22">
    <title>{'business buildings'}</title>
    <g data-name="Layer 2">
      <g data-name="Layer 1">
        <path
          ref={square1}
          d="M165.81 326.94l33.84 16.93a6.76 6.76 0 006 0l33.87-16.93a1.27 1.27 0 000-2.27l-33.88-16.92a6.7 6.7 0 00-6 0l-33.84 16.92a1.27 1.27 0 00.01 2.27zM347.91 158l33.84 16.92a6.69 6.69 0 006 0L421.63 158a1.27 1.27 0 000-2.27l-33.88-16.92a6.7 6.7 0 00-6 0l-33.84 16.92a1.27 1.27 0 000 2.27z"
          fill={rulesColor}
        />
        <path
          ref={square2}
          d="M78.11 308.88l24.73 12.36a4.89 4.89 0 004.38 0L132 308.88a.93.93 0 000-1.66l-24.75-12.36a4.89 4.89 0 00-4.38 0l-24.76 12.36a.93.93 0 000 1.66zM158.58 199.32l128 64a25.4 25.4 0 0022.7 0l106.42-53.41a4.8 4.8 0 000-8.59l-128.13-64a25.4 25.4 0 00-22.7 0l-106.29 53.41a4.8 4.8 0 000 8.59z"
          fill="#fff"
          stroke={rulesColor}
          strokeMiterlimit={10}
          strokeWidth={2}
        />
        <path
          ref={square3}
          d="M37 186.4l92.29 46.15a18.32 18.32 0 0016.36 0L238 186.38a3.46 3.46 0 000-6.19l-92.36-46.13a18.32 18.32 0 00-16.36 0L37 180.21a3.46 3.46 0 000 6.19z"
          fill={rulesColor}
          stroke="#fff"
          strokeMiterlimit={10}
          strokeWidth={2}
        />
        <path
          ref={square4}
          d="M136.94 252.42l102.39 51.19a20.29 20.29 0 0018.16 0l82.92-41.49a3.84 3.84 0 000-6.87l-102.48-51.18a20.3 20.3 0 00-18.15 0l-82.84 41.48a3.84 3.84 0 000 6.87z"
          fill="#fff"
          stroke={rulesColor}
          strokeMiterlimit={10}
          strokeWidth={2}
        />
        <path
          ref={square5}
          d="M4.09 232.26l149.13 74.57a29.59 29.59 0 0026.45 0l105.43-53.44a5.6 5.6 0 000-10l-149.24-74.55a29.57 29.57 0 00-26.44 0L4.09 222.26a5.59 5.59 0 000 10z"
          fill="#fff"
          stroke={rulesColor}
          strokeMiterlimit={10}
          strokeWidth={2}
        />
        <path
          ref={square6}
          d="M219.41 257.92l72.35 35.74a22 22 0 0019.71 0l111.24-55.6a4.17 4.17 0 000-7.46l-72.43-35.72a22 22 0 00-19.7 0l-111.17 55.58a4.17 4.17 0 000 7.46z"
          fill={rulesColor}
        />
        <g strokeLinejoin="round" strokeWidth={2} ref={capitolRef}>
          <g stroke="#767776">
            <path
              fill="#767776"
              d="M199.48 112.89l-74.61 37.77-51.72-26.08 74.61-37.77 51.72 26.08z"
            />
            <path
              fill="#fff"
              d="M73.15 133.06v-8.6l74.61-37.65v8.61l-74.61 37.64zM199.48 121.5v-8.61l-51.72-26.08v8.61l51.72 26.08z"
            />
            <path
              fill="#fff"
              d="M124.86 234.86l.01-84.2-51.72-26.08v84.2l51.71 26.08z"
            />
            <path
              fill="#767776"
              d="M124.87 234.86v-84.2l74.61-37.65v84.21l-74.61 37.64z"
            />
            <path
              d="M124.87 179.09s1.23 3.12.51 3.59c-1.21.77-12.27 6.79-13.62 6.84s-1.28-3.17-1.28-3.17"
              fill="#fff"
            />
            <path
              d="M110.48 186.35s0 3.68-1.78 3.53-46.77-23.56-48.79-24.72-1.69-3.07-1.17-4.89"
              fill="#fff"
            />
            <g fill="#fff">
              <path d="M110.45 186.35l14.42-23.73-51.72-26.09-14.41 23.73 51.71 26.09zM110.48 186.35l14.39-7.26v-16.47l-14.39 23.73z" />
            </g>
          </g>
          <g stroke="#767776">
            <path
              fill="#767776"
              d="M235.72 78.08l74.61 37.77 51.72-26.09L287.44 52l-51.72 26.08z"
            />
            <path
              fill="#fff"
              d="M362.05 98.25v-8.6L287.44 52v8.61l74.61 37.64zM235.72 86.69v-8.61L287.44 52v8.61l-51.72 26.08z"
            />
            <path
              fill="#fff"
              d="M310.34 235.45l-.01-119.6 51.72-26.09v119.61l-51.71 26.08z"
            />
            <path
              fill="#767776"
              d="M310.32 235.45l.01-119.6-74.61-37.65v119.61l74.6 37.64z"
            />
            <path
              fill="none"
              strokeLinecap="round"
              d="M365.1 219.99l-.01-64.14 7.3-3.68v64.15"
            />
            <g fill="#fff" strokeLinecap="round">
              <path d="M372.39 212.97l-7.3 3.68M372.39 207.46l-7.3 3.68M372.39 201.95l-7.3 3.68M372.39 196.44l-7.3 3.68M372.39 190.92l-7.3 3.68M372.39 185.41l-7.3 3.68M372.39 179.9l-7.3 3.68M372.39 174.39l-7.3 3.68M372.39 168.88l-7.3 3.68M372.39 163.37l-7.3 3.68M372.39 157.86l-7.3 3.68" />
            </g>
            <g>
              <path
                fill="#767776"
                d="M310.33 173.72l13.24 6.91 51.72-26.09-13.24-6.91-51.72 26.09z"
              />
              <path
                fill="#fff"
                d="M375.28 154.54l.01-10.24-13.24-6.92v10.25l13.23 6.91zM316.24 170.67v-26.38l20.17-10.31v26.39l-20.17 10.3zM339.98 151.76l-.01-19.49 17.01-8.74v19.5l-17 8.73z"
              />
              <path
                fill="#fff"
                d="M323.57 180.6v-10.1l51.72-26.08v10.1l-51.72 26.08z"
              />
              <path
                fill="#767776"
                d="M323.56 180.6l.01-10.1-13.24-6.92v10.11l13.23 6.91z"
              />
              <path fill="none" d="M326.32 139.13v26.83" />
              <path
                fill="#fff"
                d="M316.24 136.46v-14.54l40.74-20.58v14.55l-40.74 20.57z"
              />
            </g>
          </g>
          <path
            fill="#fff"
            stroke="#767776"
            d="M137.47 241.05l79.52 40.11 79.52-40.11-79.52-40.1-79.52 40.1z"
          />
          <path
            fill="#767776"
            stroke="#767776"
            d="M137.47 41.1l79.52 40.11 79.52-40.11L216.99 1l-79.52 40.1z"
          />
          <path
            fill="#fff"
            stroke="#767776"
            d="M296.5 49.78l.01-8.67L216.99 1v8.68l79.51 40.1zM137.47 49.78l-.01-8.67L216.99 1v8.68l-79.52 40.1z"
          />
          <path
            fill="#fff"
            stroke="#767776"
            d="M217 281.15l-.01-199.94 79.52-40.11v199.96L217 281.15zM216.98 281.15l.01-199.94-79.53-40.11v199.96l79.52 40.09z"
          />
          <g stroke="#767776">
            <path
              fill="#fff"
              d="M194.63 108.01V91.46l-9.38-4.73v16.55l9.38 4.73z"
            />
            <path
              fill="#767776"
              d="M167.9 94.56V78.02l-9.38-4.74v16.55l9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M154.53 87.84V71.29l-9.38-4.73v16.55l9.38 4.73z"
            />
            <path
              fill="#767776"
              d="M208 138.87v-16.54l-9.38-4.74v16.55l9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M194.63 132.15v-16.54l-9.38-4.74v16.55l9.38 4.73zM167.9 118.71v-16.55l-9.38-4.73v16.54l9.38 4.74zM154.53 111.98V95.44l-9.38-4.74v16.55l9.38 4.73zM208 163.02v-16.55l-9.38-4.73v16.55l9.38 4.73zM181.27 149.57v-16.54l-9.39-4.74v16.55l9.39 4.73z"
            />
            <path
              fill="#767776"
              d="M167.9 142.85v-16.54l-9.38-4.74v16.55l9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M154.53 136.13v-16.55l-9.38-4.73v16.55l9.38 4.73zM208 187.16v-16.54l-9.38-4.74v16.55l9.38 4.73zM194.63 180.44v-16.55l-9.38-4.73v16.55l9.38 4.73zM181.27 173.72v-16.55l-9.39-4.73v16.55l9.39 4.73zM167.9 167v-16.55l-9.38-4.73v16.54l9.38 4.74zM208 211.31v-16.55l-9.38-4.73v16.54l9.38 4.74zM194.63 204.58v-16.54l-9.38-4.73v16.54l9.38 4.73zM167.9 191.14v-16.55l-9.38-4.73v16.55l9.38 4.73zM154.53 184.42v-16.55l-9.38-4.73v16.54l9.38 4.74z"
            />
            <path
              fill="#767776"
              d="M208 235.45v-16.54l-9.38-4.74v16.55l9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M181.27 222.01v-16.55l-9.39-4.73v16.54l9.39 4.74z"
            />
            <path
              fill="#767776"
              d="M154.53 208.56v-16.55l-9.38-4.73v16.55l9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M208 259.19v-16.55l-9.38-4.73v16.55l9.38 4.73zM154.53 232.3v-16.55l-9.38-4.73v16.55l9.38 4.73z"
            />
          </g>
          <g stroke="#767776">
            <path
              fill="#fff"
              d="M189.64 267.13V236.8l-29.71-14.82v30.32l29.71 14.83z"
            />
            <path fill="none" d="M174 229v30.33" />
          </g>
          <g stroke="#767776">
            <path
              fill="#fff"
              d="M111.76 228.25v-29.84l-27.21-13.72v29.84l27.21 13.72z"
            />
            <path fill="none" strokeLinecap="round" d="M97.72 191.55v29.51" />
          </g>
          <g stroke="#767776">
            <path
              fill="#fff"
              d="M226.33 114.73V98.18l9.39-4.73V110l-9.39 4.73zM253.06 101.28V84.74l9.39-4.73v16.54l-9.39 4.73zM266.43 94.56V78.02l9.38-4.74v16.55l-9.38 4.73zM279.8 87.84V71.29l9.38-4.73v16.55l-9.38 4.73zM226.33 138.87v-16.54l9.39-4.74v16.55l-9.39 4.73z"
            />
            <path
              fill="#767776"
              d="M239.7 132.15v-16.54l9.38-4.74v16.55l-9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M253.06 125.43v-16.55l9.39-4.73v16.55l-9.39 4.73zM279.8 111.98V95.44l9.38-4.74v16.55l-9.38 4.73zM239.7 156.29v-16.54l9.38-4.73v16.54l-9.38 4.73zM253.06 149.57v-16.54l9.39-4.74v16.55l-9.39 4.73zM266.43 142.85v-16.54l9.38-4.74v16.55l-9.38 4.73zM279.8 136.13v-16.55l9.38-4.73v16.55l-9.38 4.73zM239.7 180.44v-16.55l9.38-4.73v16.55l-9.38 4.73zM253.06 173.72v-16.55l9.39-4.73v16.55l-9.39 4.73z"
            />
            <path
              fill="#767776"
              d="M279.8 160.27v-16.54l9.38-4.74v16.55l-9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M226.33 211.31v-16.55l9.39-4.73v16.54l-9.39 4.74zM239.7 204.58v-16.54l9.38-4.73v16.54l-9.38 4.73zM266.43 191.14v-16.55l9.38-4.73v16.55l-9.38 4.73zM279.8 184.42v-16.55l9.38-4.73v16.54l-9.38 4.74z"
            />
            <path
              fill="#767776"
              d="M226.33 235.45v-16.54l9.39-4.74v16.55l-9.39 4.73z"
            />
            <path
              fill="#fff"
              d="M239.7 228.73v-16.55l9.38-4.73V224l-9.38 4.73zM253.06 222.01v-16.55l9.39-4.73v16.54l-9.39 4.74zM266.43 215.28v-16.54l9.38-4.74v16.55l-9.38 4.73zM226.33 259.19v-16.55l9.39-4.73v16.55l-9.39 4.73z"
            />
            <path
              fill="#767776"
              d="M239.7 252.47v-16.55l9.38-4.73v16.55l-9.38 4.73z"
            />
            <path
              fill="#fff"
              d="M266.43 239.02v-16.54l9.38-4.74v16.55l-9.38 4.73zM279.8 232.3v-16.55l9.38-4.73v16.55l-9.38 4.73z"
            />
          </g>
          <path
            fill="none"
            stroke="#fff"
            strokeLinecap="round"
            d="M123.53 151.33l16.44-8.29M312.3 116.95l-17.58-8.87"
          />
        </g>
      </g>
    </g>
  </SVGWrapper>
  );
};

export default withTheme(CapitolAnimation);

const SVGWrapper = styled("svg")({
  width: "100%",
  maxWidth: 500
}, ({theme}) => ({
  [theme.media.min.lg]: {
    maxWidth: 600
  }
}));
